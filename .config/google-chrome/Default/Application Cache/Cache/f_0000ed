Tj.prototype.HR=S(21,function(a){this.isActive()||this.start(a)});function Xqd(a){var b=new gv,c=a.H;c&&c.length&&b.append(c);var c=null,d=a.D;d&&d.length&&(c=d);(a=a.F)&&a.length&&(c=a.join("\n"));c&&c.length&&(b.ab()&&b.append("\n"),b.append(c));return b.toString()}VE("scratchpad");function Yqd(a){this.H="";this.D=this.F=null;a&&this.update(a)}Yqd.prototype.update=function(a){this.H=a.temporaryUrl||"";this.D=a.height||null;this.F=a.width||null};Yqd.prototype.Da=function(){var a={};a.temporaryUrl=this.H;a.height=this.D;a.width=this.F;return a};Yqd.prototype.getHeight=f("D");Yqd.prototype.getWidth=f("F");function F6(a){this.D=this.Qa=null;a&&this.update(a);this.Qa||(this.D="local-"+(new Date).getTime()+"."+Math.round(2147483648*Math.random()))}F6.prototype.update=function(a){this.Qa=a.id||null};F6.prototype.Da=function(){var a={};this.Qa&&(a.id=this.Qa);return a};F6.prototype.getId=f("Qa");function Zqd(a){return a.D||a.Qa};function $qd(a){this.D=new F6(a?a.mediaId:void 0);this.J=null;this.O="UNKNOWN_MEDIA_ITEM_TYPE";this.H="";this.F=!1;this.N=!0;a&&this.update(a)}q=$qd.prototype;q.update=function(a){this.J=new Yqd(a.imageAttributes||{});this.H=a.temporaryUrl||"";this.O=a.type||"UNKNOWN_MEDIA_ITEM_TYPE"};q.Da=function(){var a={};this.getId()&&(a.mediaId=this.D.Da());this.J&&(a.imageAttributes=this.J.Da());a.temporaryUrl=this.H;a.type=this.O;return a};q.getType=f("O");q.getId=function(){return this.D.getId()};q.Bx=function(a){this.D.update(a)};
q.Vj=f("N");function ard(a){oh.call(this,a)}C(ard,yN);ard.prototype.na=function(){ard.Y.na.call(this);this.za=Pe("DIV",{"class":"docs-scratchpad-sidebar"})};
ard.prototype.F=function(a,b){var c=a.Uv();if((b=b.Kc())&&b.dataTransfer&&b.dataTransfer.setData&&c){var d=c.J,e=brd(a.R);a=[];for(var g=c.N,h=0;h<g.length;h++){var k=g[h];if("DRAWING"==k.getType()||"IMAGE"==k.getType()){var l=e[Zqd(k.D)];l&&a.push(new fW(k.H,l.width,l.height))}}h=null;if(c.F)h=new zpc(d,a,c.F.getText());else if(c.D){e=[];c=c.D.D;for(h=0;h<c.length;h++)(g=c[h].getText())&&e.push(g);h=new zpc(d,a,void 0,e)}h&&(cc?b.dataTransfer.setData("Text",Xqd(h)):b.dataTransfer.setData("goog-docs-scr",
JSON.stringify(h.Da())))}};function crd(a){G.call(this,"fi");this.query=a}C(crd,G);function drd(a){G.call(this,"ci");this.D=a}C(drd,G);function G6(){this.F=this.D=this.J=this.N=!1;this.O=this.H=""}G6.prototype.clone=function(){var a=new G6;a.N=this.N;var b=this.gP();a.J=b;a.O=this.O;a.D=this.D;a.F=this.F;a.H=this.H;return a};G6.prototype.gP=f("J");function erd(){this.D=new zd;this.F=[]}erd.prototype.Da=function(){var a={};a.updateField=this.D.Ib();return a};function frd(a){this.F=new F6(a?a.id:void 0);this.D="";a&&this.update(a)}function grd(a,b){return Ca(a.getName(),b.getName())}frd.prototype.update=function(a){this.D=a.name||""};frd.prototype.Da=function(){var a={};this.getId()&&(a.id=this.F.Da());a.name=this.D;return a};frd.prototype.getName=f("D");frd.prototype.getId=function(){return this.F.getId()};function hrd(a){this.O=new F6(a?a.listItemId:void 0);this.H="";this.F=!1;this.D=new erd;this.N=!1;this.J=!0;a&&this.update(a)}q=hrd.prototype;q.update=function(a){this.H=a.text||"";this.F=!!a.checked};q.Da=function(){var a={};this.getId()&&(a.listItemId=this.O.Da());a.text=this.H;a.checked=this.F;return a};q.getText=f("H");q.Uc=f("F");q.gc=function(a){this.F!=a&&(this.F=a,this.D.D.add("CHECKED"))};q.getId=function(){return this.O.getId()};q.Bx=function(a){this.O.update(a)};q.Vj=f("J");function ird(a){this.D=[];a&&this.update(a)}ird.prototype.update=function(a){this.D=Ua(a.listItems||[],function(a){return new hrd(a)},this)};ird.prototype.Da=function(){var a={};a.listItems=Ua(this.D,function(a){return a.Da()});return a};function jrd(a,b){return Ya(a.D,function(a){return a.getId()==b})};function krd(a,b){this.D="";this.F=a;b&&this.update(b)}krd.prototype.update=function(a){this.D=a.text||""};krd.prototype.Da=function(){var a={};a.text=this.D;return a};krd.prototype.getText=f("D");function lrd(a){this.F="UNKNOWN_ACCESS";this.D="";a&&this.update(a)}lrd.prototype.update=function(a){this.F=a.access||"UNKNOWN_ACCESS";this.D=a.email||""};lrd.prototype.Da=function(){var a={};a.access=this.F;a.email=this.D;return a};function mrd(a){this.S=new F6(a?a.noteId:void 0);this.D=this.F=null;this.J="";this.O=this.W=!1;this.aa="DEFAULT";this.N=[];this.R=[];this.ia=[];this.H=new erd;this.ea=!1;this.ga=!0;a&&this.update(a)}q=mrd.prototype;
q.update=function(a){a.textNote?(this.D=null,this.F?this.F.update(a.textNote):this.F=new krd(this.H,a.textNote)):a.listNote&&(this.F=null,this.D?this.D.update(a.listNote):this.D=new ird(a.listNote));this.J=a.title||"";this.W=!!a.isArchived;this.O=!!a.isTrashed;this.aa=a.color||"DEFAULT";this.N=Ua(a.mediaItem||[],function(a){return new $qd(a)},this);this.ia=Ua(a.label||[],function(a){return new frd(a)},this);this.R=Ua(a.user||[],function(a){return new lrd(a)},this)};
q.Da=function(){var a={};this.getId()&&(a.noteId=this.S.Da());this.F&&(a.textNote=this.F.Da());a.title=this.J;a.isArchived=this.W;a.isTrashed=this.O;a.color=this.aa;return a};q.setTitle=function(a){this.J!=a&&(this.J=a,this.H.D.add("TITLE"))};q.yA=f("O");q.pB=function(a){this.O!=a&&(this.O=a,this.H.D.add("TRASH"))};q.getColor=f("aa");q.getLabels=f("ia");function nrd(a){a=new mrd(a);a.ga=!1;Sa(a.N,function(a){a.N=!1});a.D&&Sa(a.D.D,function(a){a.J=!1});return a}q.getId=function(){return this.S.getId()};
q.Bx=function(a){this.S.update(a)};q.Vj=f("ga");function H6(){}H6.prototype.F=Xc({});H6.prototype.Ag=function(){return"v1/"+this.D()};H6.prototype.D=z;H6.prototype.H=y;function ord(a,b){return(a=prd(a,b,"object"))?a:null}function qrd(a,b){var c=prd(a,b,"array");return c?Xa(c,function(a){return qa(a)})?c:(console.log("Successful sync response but field '"+b+"' is not an array of only objects.",a),null):[]}
function prd(a,b,c){var d=a[b];return v(d)?ka(d)!=c?(console.log("Successful sync response but field '"+b+"' is not of type '"+c+"'.",a),null):d:(console.log("Successful sync response but no '"+b+"' field found in result:",a),null)};function rrd(){this.D={};this.D.DEFAULT="#fafafa";Ub(this.D,srd);this.J=Eb(this.D,function(a){return a.replace("rgb","rgba").replace(")",", 0.8)")});this.J.DEFAULT="rgba(242, 242, 242, 0.8)";this.N=Eb(this.D,function(a){return a.replace("rgb","rgba").replace(")",", 0.9)")});this.N.DEFAULT="rgba(240, 240, 240, 0.9)";this.F=trd;this.F.DEFAULT="White";this.R=urd;this.R.DEFAULT=0;this.H=Ib(this.D);this.S=Ua(this.H,function(a){return this.D[a]},this);this.O=Ua(this.H,function(a){return this.F[a]},this)}
var srd={RED:"rgb(255, 138, 128)",ORANGE:"rgb(255, 209, 128)",YELLOW:"rgb(255, 255, 141)",GRAY:"rgb(207, 216, 220)",BLUE:"rgb(128, 216, 255)",TEAL:"rgb(167,255,235)",GREEN:"rgb(204, 255, 144)"},urd={RED:1,ORANGE:2,YELLOW:3,GRAY:4,BLUE:5,TEAL:6,GREEN:7},trd={RED:"Red",ORANGE:"Orange",YELLOW:"Yellow",GRAY:"Gray",BLUE:"Blue",TEAL:"Teal",GREEN:"Green"};rrd.prototype.getValue=function(a){return this.D[a]||"#fafafa"};rrd.prototype.Ib=f("S");rrd.prototype.getLabel=function(a){return this.F[a]||"White"};
rrd.prototype.getLabels=f("O");function vrd(a){var b;a=a||{};return W('<div role="button" class="keep-button'+(a.zc?" "+X(a.zc):"")+'" tabindex="0">'+V(null==(b=a.content)?"":b)+"</div>")}function I6(a){a=a||{};return W(vrd({zc:QI("keep-icon-button"+(a.zc?" "+a.zc:""))}))}function wrd(a){var b;a=a||{};return W(vrd({zc:QI("keep-text-button"+(a.zc?" "+a.zc:"")),content:RI(""+V(null==(b=a.text)?"":b))}))};function xrd(){var a;a={};return W('<div class="keep-qp-loader small'+(a.MNb?" light":"")+'"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"><path class="keep-qp-loader-path" fill="none" d="M 10,1.25 A 8.75,8.75 0 1 1 1.25,10" stroke-width="2.5" stroke-linecap="square"></path></svg></div>')};function yrd(a){var b=W;a='<div class="keep-ce-all-notes-component"><div class="all-notes-title-bar"><img class="keep-icon"><div class=all-notes-title>'+V(a.title)+"</div>"+V(I6({zc:QI(" open-search ")}))+V(I6({zc:QI(" open-keep ")}))+V(I6({zc:QI(" close ")}))+'</div><div class="all-notes-title-bar-spacer"></div>'+V(W('<div class="keep-ce-search-bar"><img class="search-icon"><input class="keep-textinput" type="text">'+V(I6({zc:QI(" clear-search ")}))+"</div>"))+'<div class="all-notes-scrollable">';
var c;c=""+('<div class="keep-ce-note-creator"><div class="new-text-note" tabindex="0">Take a note\u2026</div>'+V(I6({zc:QI(" new-list-note ")}))+"</div>");c=W(c);return b(a+V(c)+'<div class="notes-list"></div>'+V(xrd())+V(W('<div class="keep-ce-empty-state"><img class="empty-state-image" /><div class="empty-state-title"></div><div class="empty-state-message"></div></div>'))+"</div><div>")};function zrd(a){a=Ard(a);return Ua(a,function(a){return a.xd()})}function Brd(a,b,c){this.H=a;this.F=b;this.D=c}Brd.prototype.xd=function(){return this.H.substring(this.F,this.D)};function Ard(a){for(var b=/\r\n|\r|\n/g,c=0,d,e=[];d=b.exec(a);)c=new Brd(a,c,d.index),e.push(c),c=b.lastIndex;c<a.length&&(c=new Brd(a,c,a.length),e.push(c));return e};Gf||ac&&lc(10);Qe("TEXTAREA");function Crd(a,b,c){var d=!1;if(a.length>b){var e=a.substring(b).search(/\s/);0<=e&&(a=a.substring(0,b+e),d=!0);b=a.split("").reverse().join("").search(/\s/);0<=b&&(a=a.substring(0,a.length-b-1),d=!0)}b=zrd(a);b.length>c&&(a=b.slice(0,c).join("\n"),d=!0);return a+(d?"\u2026":"")}
function Drd(a){var b=[];if(a){var c=/".*?"/g,d=a.match(c);d&&(d=Ua(d,function(a){return Caa(a,'"')}),b=b.concat(d),a=a.replace(c,""))}b=b.concat(a.split(" "));b=Ua(b,function(a){return za(a)});return b=Ta(b,function(a){return!Aa(a)})};new zd("BLOCKQUOTE BODY CENTER DD DIR DIV DL DT FORM H1 H2 H3 H4 H5 H6 HEAD HTML ISINDEX MENU NOFRAMES P PRE TABLE TD TH TITLE TR".split(" "));function Erd(){return W('<div role="tooltip" class="keep-tooltip"><div class="tooltip-background"></div><div class="tooltip-content"></div></div>')};function Frd(){H.call(this);this.D=HI(Erd);M(this.D,!1);Be().gb().body.appendChild(this.D);this.ea=Ie("tooltip-content",this.D);this.F=null;this.aa=new Tj(this.shb,0,this);this.R=new Tj(this.bqb,300,this);this.N=250;this.W=new Tj(this.Jpb,this.N,this);this.ga=new zd;this.S=!0;this.O=!1}C(Frd,H);ja(Frd);q=Frd.prototype;
q.yc=function(a,b,c){b?(this.V(a,["mouseout","mousedown","click","blur",Eba,"keydown"],this.yxa,!0).V(a,["mouseover","focus",Dba],this.zxa,!0),a.removeAttribute("title"),Qg(a,"label",b),c?a.setAttribute("tooltip-no-delay",!0):a.removeAttribute("tooltip-no-delay")):(this.Jb(a,["mouseout","mousedown","click","blur",Eba,"keydown"],this.yxa,!0).Jb(a,["mouseover","focus",Dba],this.zxa,!0),DG(a,"label"),a.removeAttribute("tooltip-no-delay"))};
q.zxa=function(a){this.F=a.currentTarget;if(a=Xhb(this.F,"label"))cf(this.ea,a),a="true"==this.F.getAttribute("tooltip-no-delay"),this.aa.start(this.S&&!a?250:0)};q.yxa=function(){this.F=null;this.aa.stop();this.O&&(this.O=!1,Xj(this.D,"show"),Xj(this.D,"direction-bottom"),Wj(this.D,"hide"),this.W.start(this.N),this.S=!1,this.R.start())};
q.shb=function(){if(this.F){this.R.stop();this.W.stop();M(this.D,!0);if(this.F){var a=dh(this.D),b=dh(this.F),c=bh(this.F),d;d=hlb(Be().gb());var e=Le(),g=d.x+e.width,e=d.y+e.height;this.ga.contains(this.F)?(d=c.y+b.height/2-a.height/2,b=c.x+b.width,d=Math.max(0,Math.min(d,e-a.height)),e=!0,b+a.width>g&&(b=c.x-a.width,e=!1),Yj(this.D,"direction-right",e),Yj(this.D,"direction-left",!e),PF(this.D,["direction-top","direction-bottom"])):(d=c.y+b.height,b=c.x+b.width/2-a.width/2,b=Math.max(0,Math.min(b,
g-a.width)),g=!0,d+a.height>e&&(d=c.y-a.height,g=!1),Yj(this.D,"direction-bottom",g),Yj(this.D,"direction-top",!g),PF(this.D,["direction-left","direction-right"]));this.D.style.top=d+"px";this.D.style.left=b+"px";this.D.setAttribute("content-width-32",Math.ceil(a.width/32));this.N=Math.max(50,250-25*Math.ceil(a.width/32))}Xj(this.D,"hide");Wj(this.D,"show");this.O=!0}};q.Jpb=function(){M(this.D,!1)};q.bqb=function(){this.S=!0};function J6(a,b,c){RJ.call(this,a,Grd.Ba(),c);this.D=b||""}C(J6,RJ);q=J6.prototype;q.qa=function(){J6.Y.qa.call(this);N(this).V(this,"action",this.rhb)};q.focus=function(){try{this.$()&&this.$().focus()}catch(a){}};q.qu=function(a){J6.Y.qu.call(this,a);this.$()&&Xj(this.$(),"clear-focus-outline")};q.Sj=function(a){J6.Y.Sj.call(this,a);this.$()&&Wj(this.$(),"clear-focus-outline")};q.Tl=function(a){J6.Y.Tl.call(this,a);this.$()&&Wj(this.$(),"clear-focus-outline")};q.gF=ba();
q.rhb=function(){this.D&&this.dispatchEvent(this.D)};function Hrd(a,b,c){J6.call(this,a,b,c)}C(Hrd,J6);function K6(a,b,c){J6.call(this,void 0,b,c);this.F=a}C(K6,J6);K6.prototype.qa=function(){K6.Y.qa.call(this);var a=this.F,b=this.$();b&&Frd.Ba().yc(b,a)};K6.prototype.yc=function(a){this.F=a;if(this.isEnabled()){var b=this.$();b&&Frd.Ba().yc(b,a)}};function Grd(){}C(Grd,PJ);ja(Grd);
Grd.prototype.na=function(a){var b=vrd,c="";a instanceof Hrd?(c="keep-text-button",b=wrd):a instanceof K6&&(c="keep-icon-button",b=I6);b=HI(b);Wj(b,"keep-button");a.ba().append(b,a.xd());c&&Wj(b,c);this.Nf(a,b);return b};function Ird(a){a=a||{};a=""+('<div class="keep-ce" tabindex="0"><div class="images"></div><div class="title-container">'+V(I6({zc:QI(" menu ")}))+'<textarea class="note-title" rows="1"></textarea></div>'+(a.gP?"":'<div class="labels"></div>')+'<div class="footer">'+V(wrd({zc:QI(" done "),text:QI("Done")}))+"</div></div>");return W(a)}function Jrd(){return W('<div class="loading-overlay">'+V(xrd())+"</div>")}function Krd(){return W('<textarea class="text-note-content" rows="1"></textarea>')}
function Lrd(){return W('<div class="list-body"></div>')}function Mrd(){return W('<div class="list-item"><div class="keep-checkbox"></div>'+V(I6({zc:QI(" add-item ")}))+'<label class="list-item-ellipsis">\u2026</label><textarea class="list-item-content" rows="1"></textarea>'+V(I6({zc:QI(" delete ")}))+"</div>")}function Nrd(){return W('<div class="image-outer"><img class="image-inner">'+V(I6({zc:QI(" image-delete ")}))+"</div>")};function Ord(a){this.J=a}C(Ord,H6);Ord.prototype.D=Xc("notes:create");Ord.prototype.F=function(){var a={},b=this.J,c=b.Da();b.D&&(c.listNote=b.D.Da());a.note=c;return a};Ord.prototype.H=function(a){this.J.ga=!1;this.J.D&&(a=ord(a,"note"))&&(a=nrd(a),a.D&&Sa(a.D.D,function(a){if(a=jrd(this.J.D,a.getId()))a.J=!1},this))};function Prd(a){this.J=a}C(Prd,H6);Prd.prototype.D=function(){return"notes/"+this.J+":delete"};function Qrd(a,b){this.N=a;this.J=b}C(Qrd,H6);Qrd.prototype.D=function(){return"notes/"+this.N+":share"};Qrd.prototype.F=function(){var a={};a.userToShare=this.J;return a};function L6(a){this.J=a}C(L6,H6);L6.prototype.D=function(){return"notes/"+this.J.getId()+":update"};L6.prototype.F=function(){var a={};a.note=this.J.Da();a.updateMask=this.J.H.Da();var b=this.J.H;b.F=b.D.Ib();b.D.clear();return a};L6.prototype.H=function(a){a=ord(a,"note");db(this.J.H.F);a&&this.J.H.D.isEmpty()&&this.J.update(a)};function Rrd(){}var Srd=new Rrd,Trd=["click",dc?"keypress":"keydown","keyup"];Rrd.prototype.V=function(a,b,c,d,e){function g(a){var c=tc(b);"click"==a.type&&a.Hq()?c.call(d,a):13!=a.keyCode&&3!=a.keyCode||"keyup"==a.type||a.shiftKey||(gc?a.metaKey:a.ctrlKey)?32==a.keyCode&&"keyup"==a.type&&"button"==zga(a.target)&&(c.call(d,a),a.preventDefault()):(a.type="keypress",c.call(d,a))}g.D=b;g.F=d;e?e.V(a,Trd,g,c):sc(a,Trd,g,c)};
Rrd.prototype.Jb=function(a,b,c,d,e){for(var g,h=0;g=Trd[h];h++)for(var k=Vba(a,g,!!c),l,n=0;l=k[n];n++){var p=l.listener;if(p.D==b&&p.F==d){e?e.Jb(a,g,l.listener,c,d):wc(a,g,l.listener,c,d);break}}};function Urd(a,b,c){this.H=a;this.F=b;this.D=c}Urd.prototype.Da=function(){var a={};this.D&&this.D.getId()&&(a.mediaId=this.D.Da());this.H&&(a.mediaUrl=this.H);this.F&&(a.mediaBytes=this.F);return a};function Vrd(a,b){this.N=a;this.J=new Urd(a.H,void 0,a.D);this.O=b}C(Vrd,H6);Vrd.prototype.D=function(){return"notes/"+this.O+"/mediaItems:create"};Vrd.prototype.F=function(){var a={};a.mediaToAttach=this.J.Da();return a};Vrd.prototype.H=function(){this.N.N=!1};function Wrd(a,b){this.J=a;this.N=b}C(Wrd,H6);Wrd.prototype.D=function(){return"notes/"+this.N+"/mediaItems/"+this.J+":delete"};function Xrd(a){var b=[];a=Ua(a,function(a){return jd(a,.2,5)});var c=0,d=a.length%3;if(d){var e=Yrd(0,d,a);b.push.apply(b,Zrd(e,c,d,0,a));c+=e}for(;d<a.length;d+=3)0<d&&(c+=.6),e=Yrd(d,3,a),b.push.apply(b,Zrd(e,c,3,d,a)),c+=e;Sa(b,function(a){a.top*=100/c;a.height*=100/c});return{vpb:b,GMa:c}}function Yrd(a,b,c){for(var d=0,e=0;e<b;e++)d+=c[a+e];return(100-.6*(b-1))/d}function Zrd(a,b,c,d,e){for(var g=[],h=0,k=0;k<c;k++){var l=a*e[d+k];g.push(new Vg(h,b,l,a));h+=l+.6}return g};function $rd(a){this.D={};this.D.keepRequestParam={};this.D.keepRequestParam.clientNamespace={};this.D.keepRequestParam.clientNamespace.clientId=a};function asd(a,b,c,d){I.call(this);this.F=a;this.W=new $rd(b);this.aa=!d;this.O=c;this.H=null;this.J=new o1("AIzaSyDzSyl-DPNxSyc7eghRsB4oNNetrnvnH0I",d||"0",this.O,void 0,void 0,void 0,!0);E(this,this.J);p1(this.J).then(this.nhb,this.H3a,this);this.D=null;this.EE="";this.R=[];this.N=[];this.S=!1}C(asd,I);q=asd.prototype;q.Yf=function(a,b,c){a=new bsd(a,b,c);this.S?this.Nba(a):this.N.push(a)};
q.Nba=function(a){var b=Sb(this.W.D);Ub(b,a.D.F());(this.D||this.J).Yf({path:a.D.Ag(),method:"POST",body:JSON.stringify(b)}).then(B(this.Alb,this,a),B(this.xxa,this,a))};q.vda=function(){if(this.H){var a=ia("auth.getToken",this.H)(),b=["https://www.googleapis.com/auth/memento"];a&&a.scope&&(a=a.scope,"string"===typeof a&&(a=[a]),b=lb(b,a),rb(b));ia("auth.authorize",this.H)({client_id:"192748556389-ovtl72fi5ss575fb0pu7mes8528ormib.apps.googleusercontent.com",scope:b},B(this.q7a,this))}};
function csd(a){a.S=!0;Sa(a.N,a.Nba,a);db(a.N)}q.Alb=function(a,b){b&&b.error?this.xxa(a,b.error):b&&!qa(b.result)?(a.H(),this.F.get("E").D("Successful sync response with no result content. Path: "+a.D.Ag())):(a.D.H(b.result),a.callback())};
q.xxa=function(a,b){var c=b.status;this.F.get("E").D("Sync error"+(c?": "+c:""));a.J++;5<a.J?(a.H(),a=!1):(Vd(B(this.Nba,this,a),a.F),a.F=Math.min(2*a.F,6E4),a=!0);if(!a){var d;try{d=JSON.stringify(b,null,2)}catch(e){d=String(b)}this.F.get("E").H("Sync error message: "+d)}};q.nhb=function(a){this.H=a;this.aa?this.vda():csd(this)};q.H3a=function(){this.F.get("E").F("Gapi client failed to load. No notes can be opened or saved.")};
q.q7a=function(a){a.error?(Vd(this.vda,9E5,this),this.F.get("E").D("Could not fetch OAuth token: "+a.error)):(this.EE=a.access_token,this.D?this.D.F=this.EE:(this.D=new o1(void 0,void 0,this.O,!1,!1,this.EE),E(this,this.D),p1(this.D),csd(this)),Sa(this.R,function(a){a(this.EE)}),Vd(this.vda,1E3*a.expires_in-9E5,this))};function bsd(a,b,c){this.D=a;this.callback=b||y;this.H=c||y;this.J=0;this.F=500};function M6(a){a&&(a.style.height="auto",a.style.height=a.scrollHeight+"px")}function dsd(a,b){if(b){var c=b.nextSibling;c?PE(a,c):a.render(b.parentElement)}else a.render()};function N6(a){oh.call(this);this.R=a;this.D=null;this.N=[];this.J=!0}C(N6,oh);N6.prototype.qa=function(){N6.Y.qa.call(this);var a=new Ky(this.F,50,this);E(this,a);var b=new Tj(a.vk,16,a);E(this,a);a=B(b.HR,b);N(this).V(this,"bi",a).V(this,"hide",a).V(this,"$h",this.O)};
N6.prototype.update=function(){var a=this.D?Ta(this.D.N,function(a){return!a.F&&("DRAWING"==a.getType()||"IMAGE"==a.getType())}):[];vb(this.N,a)?esd(this):(this.N=a,this.removeChildren(!0),Sa(a,function(a){this.addChild(new fsd(this.R,this.D,a),!0)},this),esd(this),this.F())};function brd(a){var b={};qh(a,function(a){b[a.getId()]=new xe(a.getWidth(),a.getHeight())});return b}function gsd(a){qh(a,function(a){hsd(a)})}function esd(a){a.$()&&M(a.$(),!!a.Jc())}
N6.prototype.F=function(){var a=[],b=[];qh(this,function(c){var d=c.getModel(),e=this.J&&6<=b.length;d.F||null==c.O||e?c.setVisible(!1):(b.push(c),a.push(c.O),c.setVisible(!0))},this);var c=Xrd(a);this.$().style.paddingTop=c.GMa+"%";for(var d=0;d<b.length;d++)isd(b[d],c.vpb[d])};N6.prototype.O=function(a){a=a.target;this.removeChild(a,!0);this.D&&jb(this.D.N,a.getModel());a.dispose()};
function fsd(a,b,c){oh.call(this);this.ma=a.get("H");this.W=b;this.D=c;this.ia=new K6("Remove image");this.addChild(this.ia);this.R=this.ea=0;this.J=this.F=this.O=null;this.N=!1;this.S=c;QE(this,Zqd(c.D))}C(fsd,oh);q=fsd.prototype;q.na=function(){this.za=HI(Nrd)};q.qa=function(){fsd.Y.qa.call(this);OE(this.ia,this.$().querySelector(".image-delete"));this.F=this.$().querySelector(".image-inner");this.F.src=this.D.H;N(this).V(this.F,"load",this.dhb).V(this.ia,"action",this.ehb);this.D.Vj()&&hsd(this)};
q.setVisible=function(a){this.$()&&M(this.$(),a)};q.isVisible=function(){return!!this.$()&&gh(this.$())};function isd(a,b){if(a=a.$())a.style.top=b.top+"%",a.style.left=b.left+"%",a.style.width=b.width+"%",a.style.height=b.height+"%"}q.getWidth=f("ea");q.getHeight=f("R");function hsd(a){if(!a.J){var b=new Ky(a.hhb,2500,a);E(a,b);a.J=new Tj(b.vk,50,b);E(a,a.J)}a.J.HR()}
q.hhb=function(){if(this.W.Vj())this.dispatchEvent("ei");else if(!this.N&&this.W.getId()&&this.D.getId()){var a=this.W.getId(),b;this.D.Vj()?this.D.F?this.dispatchEvent("$h"):b=new Vrd(this.D,a):this.D.F&&(b=new Wrd(this.D.getId(),a));b&&(this.ma.Yf(b,B(this.ghb,this,b),B(this.fhb,this,b)),this.N=!0)}else hsd(this)};q.dhb=function(){this.ea=this.F.naturalWidth||this.F.width;this.R=this.F.naturalHeight||this.F.height;var a=this.ea/this.R;this.O!=a&&(this.O=a,this.dispatchEvent("bi"))};
q.ehb=function(){this.dispatchEvent("hide");this.setVisible(!1);this.D.F=!0;hsd(this)};q.ghb=function(a){this.N=!1;a instanceof Wrd&&this.dispatchEvent("$h")};q.fhb=function(){this.N=!1};function jsd(){oh.call(this);this.D=null;this.F=[]}C(jsd,oh);jsd.prototype.update=function(){if(this.D){var a=ob(this.D.getLabels());ub(a,grd);vb(this.F,a)||(this.F=a,Se(this.$()),Sa(this.F,function(a){var b=Pe("LABEL",{"class":"label"});cf(b,a.getName());this.$().appendChild(b)},this))}};function ksd(a,b){this.J=a;this.N=b}C(ksd,H6);ksd.prototype.D=function(){return"notes/"+this.N+"/listItems:create"};ksd.prototype.F=function(){var a={};a.listItem=this.J.Da();return a};ksd.prototype.H=function(){this.J.J=!1};function lsd(a,b){this.J=a;this.N=b}C(lsd,H6);lsd.prototype.D=function(){return"notes/"+this.N+"/listItems/"+this.J+":delete"};function msd(a,b){this.J=a;this.N=b}C(msd,H6);msd.prototype.D=function(){return"notes/"+this.N+"/listItems/"+this.J.getId()+":update"};msd.prototype.F=function(){var a={};a.listItem=this.J.Da();a.updateMask=this.J.D.Da();var b=this.J.D;b.F=b.D.Ib();b.D.clear();return a};msd.prototype.H=function(a){a=ord(a,"listItem");db(this.J.D.F);a&&this.J.D.D.isEmpty()&&this.J.update(a)};function nsd(a,b,c){oh.call(this);if(!c){c=a.getModel();var d=new hrd,e=osd(c);e?d.Bx(e):c.D.push(d);c=d}this.D=c;this.ma=a.get("H");this.ia=b;this.W=new K6("");this.addChild(this.W);this.N=new JI;this.F=null;this.ea=new K6("Delete list item");this.addChild(this.ea);this.O=null;this.J=this.R=!1}C(nsd,oh);q=nsd.prototype;q.na=function(){this.za=HI(Mrd)};
q.qa=function(){nsd.Y.qa.call(this);var a=this.$();OE(this.W,a.querySelector(".add-item"));OE(this.N,a.querySelector(".keep-checkbox"));this.F=a.querySelector(".list-item-content");this.F.setAttribute("maxlength",(999).toString());BG(this.F,"List item");this.F.placeholder="List item";OE(this.ea,a.querySelector(".delete"));N(this).V(this.W,"action",B(this.F.focus,this.F)).V(this.N,"change",this.e0a).V(this.F,"input",this.khb).V(this.ea,"action",this.u1a);psd(this)};
function psd(a){if(a.Va()){a.N.gc(a.D.Uc());a.N.Ha(a.J);Yj(a.$(),"checked",a.D.Uc());var b=a.D.getText();a.F.value=a.J?b:Crd(b,65,3);M6(a.F);a.J?a.F.removeAttribute("disabled"):a.F.setAttribute("disabled",!0)}}q.focus=function(){this.F&&this.F.focus()};function qsd(a){if(!a.O){var b=new Ky(a.lhb,2500,a);E(a,b);a.O=new Tj(b.vk,50,b);E(a,a.O)}a.O.HR()}
q.lhb=function(){if(this.ia.Vj())this.dispatchEvent("ei");else if(!this.R&&this.ia.getId()&&this.D.getId()){var a=this.ia.getId(),b;this.D.Vj()?this.D.N?this.dispatchEvent("$h"):b=new ksd(this.D,a):this.D.N?b=new lsd(this.D.getId(),a):!this.D.D.D.isEmpty()&&(b=new msd(this.D,a));b&&(this.ma.Yf(b,B(this.jhb,this,b),B(this.ihb,this,b)),this.R=!0)}else qsd(this)};q.e0a=function(){this.D.gc(this.N.Uc());Yj(this.$(),"checked",this.N.Uc());qsd(this)};
q.khb=function(){var a=this.D,b=this.F.value;a.H!=b&&(a.H=b,a.D.D.add("TEXT"));this.dispatchEvent("Yh");M6(this.F);qsd(this)};q.u1a=function(){M(this.$(),!1);this.D.N=!0;qsd(this)};q.jhb=function(a){this.R=!1;a instanceof lsd&&this.dispatchEvent("$h")};q.ihb=function(a){this.R=!1;a instanceof msd&&(a=this.D.D,Ad(a.D,a.F),db(a.F))};function rsd(a,b){oh.call(this);this.J=a;this.D=null;this.F=b;this.N=!1}C(rsd,oh);q=rsd.prototype;q.na=function(){this.za=HI(Lrd)};q.qa=function(){rsd.Y.qa.call(this);Sa(this.F.D.D,function(a){a=new nsd(this.J,this.F,a);this.addChild(a,!0)},this);this.Tfa();N(this).V(this,"$h",this.g0a)};function ssd(a,b){a.N=b;qh(a,function(a){a.J!=b&&(a.J=b,psd(a))})}function tsd(a){qh(a,function(a){M6(a.F)})}q.focus=function(){this.D&&this.D.focus()};function usd(a){qh(a,function(a){a!=this.D&&qsd(a)},a)}
q.Tfa=function(){if(this.D){var a=this.F.D;a&&a.D.push(this.D.D);N(this).Jb(this.D,"Yh",this.Tfa);Xj(this.D.$(),"new-item")}var a=this.D=new nsd(this.J,this.F),b=this.N;a.J!=b&&(a.J=b,psd(a));this.addChild(this.D,!0);N(this).V(this.D,"Yh",this.Tfa);Wj(this.D.$(),"new-item")};q.g0a=function(a){a=a.target;this.removeChild(a,!0);a.dispose();var b=this.F.D;b&&jb(b.D,a.D)};function vsd(a){oh.call(this);this.F=a;this.D=!1}C(vsd,oh);q=vsd.prototype;q.na=function(){this.za=HI(Krd)};q.qa=function(){vsd.Y.qa.call(this);var a=this.$();a.setAttribute("maxlength",(19999).toString());BG(a,"Take a note\u2026");a.placeholder="Take a note\u2026";N(this).V(a,"input",this.qhb)};q.update=function(){if(this.Va()&&this.F){var a=this.F.getText();this.$().value=this.D?a:Crd(a,400,10);M6(this.$());this.D?this.$().removeAttribute("disabled"):this.$().setAttribute("disabled",!0)}};
q.focus=function(){this.$()&&this.$().focus()};q.qhb=function(){if(this.F){var a=this.F,b=this.$().value;a.D!=b&&(a.D=b,a.F.D.add("TEXT"));M6(this.$());this.dispatchEvent("Yh")}else this.$().value=""};function wsd(a,b){oh.call(this);this.Ca=a;this.Pa=a.get("H");this.Ea=b||new G6;this.O=this.D=null;this.R=new N6(a);this.Ka=null;this.ma=new K6("Menu");this.addChild(this.ma);this.F=this.J=this.N=null;this.ia=this.Ea.gP()?null:new jsd;this.oa=new Hrd;this.addChild(this.oa);this.W=null;a=new Ky(this.Uvb,2500,this);this.Ta=new Tj(a.vk,50,a);E(this,this.Ta);this.xa=!1;this.La=!0;this.ea=!1}C(wsd,oh);q=wsd.prototype;q.na=function(){this.za=HI(Ird,{hideLabels:this.Ea.gP()})};
q.qa=function(){wsd.Y.qa.call(this);var a=this.$();OE(this.R,a.querySelector(".images"));this.Ka=a.querySelector(".title-container");OE(this.ma,a.querySelector(".menu"));this.N=a.querySelector(".note-title");this.N.setAttribute("maxlength",(999).toString());BG(this.N,"Title");this.N.placeholder="Title";this.ia&&OE(this.ia,a.querySelector(".labels"));OE(this.oa,a.querySelector(".done"));N(this).V(this.ma,"action",this.x6a).V(this.N,"input",this.Qbb).V(this.oa,"action",B(this.yZ,this,!1)).V(this.R,
"ei",this.yx);this.ea=!0;this.yZ(!1);xsd(this);this.setVisible(this.La);Vd(this.chb,50,this)};q.setVisible=function(a){this.$()&&M(this.$(),a);this.La=a};q.Uv=f("D");q.chb=function(){this.Va()&&(M6(this.N),this.J&&M6(this.J.$()),this.F&&tsd(this.F))};function ysd(a,b){if(!a.D||a.D.Vj())a.O=a.O||new zd,Ad(a.O,b);else{var c=a.D.getId();a.Pa.Yf(new Qrd(c,b))}}q.yx=function(){this.Ta.HR()};
q.yZ=function(a){if(this.ea!=a){this.ea=a;this.$()&&Yj(this.$(),"editing",a);var b=this.R,c=!a;b.J!=c&&(b.J=c,6<b.Jc()&&b.F());zsd(this);this.J&&(b=this.J,b.D!=a&&(b.D=a,b.update()));this.F&&ssd(this.F,a);a?(a=N(this),b=this.$(),Srd.Jb(b,this.wxa,void 0,a.H||a,a)):(Cc(N(this),this.$(),Srd,this.wxa),this.dispatchEvent("ai"))}};q.focus=function(){this.ea&&(this.J&&this.J.focus(),this.F&&this.F.focus())};
function xsd(a){a.Va()&&(a.D?(a.W&&(a.$().removeChild(a.W),a.W=null),a.Ea.N||(a.$().style.backgroundColor=a.Ca.get("D").getValue(a.D.getColor())),a.R.update(),a.D.F?(a.F&&(N(a).Jb(a.F,"ei",a.yx),a.F.dispose(),a.F=null),a.J||(a.J=new vsd(a.D.F),dsd(a.J,a.Ka),N(a).V(a.J,"Yh",a.yx)),a.J.update()):a.D.D&&(a.J&&(N(a).Jb(a.J,"Yh",a.yx),a.J.dispose(),a.J=null),a.F||(a.F=new rsd(a.Ca,a.D),dsd(a.F,a.Ka),N(a).V(a.F,"ei",a.yx))),a.ia&&a.ia.update(),zsd(a)):a.W||(a.W=HI(Jrd),a.$().appendChild(a.W)))}
function zsd(a){if(a.Va()&&a.D){var b=a.D.J;a.N.value=a.ea?b:Crd(b,60,2);M6(a.N);a.ea?a.N.removeAttribute("disabled"):a.N.setAttribute("disabled",!0)}}q.Uvb=function(){if(this.xa||!this.D.getId())this.yx();else{var a;this.D.Vj()?this.D.ea?this.dispose():a=new Ord(this.D):this.D.ea?a=new Prd(this.D.getId()):!this.D.H.D.isEmpty()&&(a=new L6(this.D));a&&(this.Pa.Yf(a,B(this.bhb,this,a),B(this.ahb,this,a)),this.xa=!0)}};
q.wxa=function(a){a.target!=this.ma.$()&&a.target!=this.oa.$()&&(this.yZ(!0),"TEXTAREA"==a.target.tagName?a.target.focus():"click"==a.type&&this.focus())};q.x6a=function(){var a=this.Ca.Ob();a.Va()||a.render();a.show(this,this.ma.$())};q.Qbb=function(){this.D?(this.D.setTitle(this.N.value),M6(this.N),this.yx()):this.N.value=""};
q.bhb=function(a){this.xa=!1;a instanceof Ord?(this.O&&!this.O.isEmpty()&&(ysd(this,this.O.Ib()),this.O.clear()),this.F&&usd(this.F),gsd(this.R)):a instanceof Prd?this.dispose():a instanceof L6&&this.D.H.D.isEmpty()&&this.D.yA()&&this.dispose()};q.ahb=function(a){this.xa=!1;a instanceof L6&&(a=this.D.H,Ad(a.D,a.F),db(a.F))};function Asd(){this.O=void 0;this.D=null;this.N="";this.H=this.J=null;this.F=new zd}var Bsd=["empty-search","empty-notes"];function Csd(a,b){a.D=b;a.N=a.D.className;a.J=a.D.querySelector(".empty-state-title");a.H=a.D.querySelector(".empty-state-message");Dsd(a)}function Esd(a,b,c){c?a.F.add(b):a.F.remove(b);Dsd(a)}
function Dsd(a){if(a.D){var b=Ya(Bsd,function(a){return this.F.contains(a)},a);if(b){a.D.className=a.N;var c,d;switch(b){case "empty-notes":c="No notes yet";d=a.O||"Your notes from Google Keep will show up here.";break;case "empty-search":d="No matching results"}M(a.J,!!c);cf(a.J,c||"");M(a.H,!!d);cf(a.H,d||"");Wj(a.D,b);M(a.D,!0)}else M(a.D,!1)}};function Fsd(a){oh.call(this);this.O=a;this.J=null;this.F=new K6("New list")}C(Fsd,oh);Fsd.prototype.qa=function(){Fsd.Y.qa.call(this);var a=this.$();this.J=a.querySelector(".new-text-note");OE(this.F,a.querySelector(".new-list-note"));Cc(N(this),this.J,Srd,B(this.D,this,!1)).V(this.F,"action",B(this.D,this,!0))};function Gsd(a,b){return b.J||b.N.length||1<b.R.length||!a.O.gP()&&b.getLabels().length||(a=b.F)&&a.getText()?!1:(b=b.D)&&Wa(b.D,function(a){return!!a.getText()})?!1:!0}Fsd.prototype.D=function(a){this.dispatchEvent(new drd(a))};
Fsd.prototype.N=function(a){M(this.$(),!0);a=a.target;var b=a.Uv();if(!b||Gsd(this,b))b&&(b.ea=!0),a.setVisible(!1),a.yx()};function Hsd(a,b,c){var d=Isd(a,c);return Xa(b,function(a){return-1!=d.indexOf(a)})}function Jsd(a){for(var b=0,c;c=a[b];b++)if(c=c.R,1==c.length)return c[0].D;return null}
function Isd(a,b){var c=new gv(a.J);a.F&&(c.append("\n"),c.append(a.F.getText()));a.D&&Sa(a.D.D,function(a){c.append("\n");c.append(a.getText())});var d=a.R;1<d.length&&Sa(d,function(a){a=a.D;a!=b&&(c.append("\n"),c.append(a))});Sa(a.getLabels(),function(a){c.append("\n");c.append(a.getName())});return c.toString().toLowerCase()};function Ksd(){oh.call(this);this.F=new K6("Close");this.addChild(this.F);this.D=null;this.J=new Tj(this.hna,300,this);E(this,this.J);this.N=new Tj(this.pgb,218,this);this.yd=null;this.O=!1}C(Ksd,oh);q=Ksd.prototype;
q.qa=function(){Ksd.Y.qa.call(this);var a=this.$();OE(this.F,a.querySelector(".clear-search"));this.D=a.querySelector(".keep-textinput");this.D.placeholder="Search your notes";this.yd=new dI(this.$());E(this,this.yd);N(this).V(this.yd,"key",this.phb).V(this.D,"input",this.ohb).V(this.F,"action",this.Vla);this.setVisible(this.O)};q.setVisible=function(a){this.O=a;var b=this.$();b&&(a&&(M(b,!0),this.D.focus()),Vd(function(){Yj(b,"visible",a)},16,this),a?this.N.stop():this.N.start())};q.hna=function(){this.dispatchEvent(new crd(this.D.value))};
q.pgb=function(){Vj(this.$(),"visible")||M(this.$(),!1)};q.Vla=function(){this.D.value="";this.dispatchEvent(new crd(null));this.setVisible(!1)};q.phb=function(a){13==a.keyCode?this.hna():27==a.keyCode&&this.Vla()};q.ohb=function(){this.J.start()};function Lsd(a,b,c){oh.call(this);this.R=a;this.W=b;this.Pa=c||"Notes";this.N={};this.Ca=new Ksd;this.oa=new Fsd(b);this.Ea=new K6("Search");this.addChild(this.Ea);this.La=new K6("Open Keep app","di");this.addChild(this.La);this.F=new K6("Close","Zh");this.addChild(this.F);a=this.J=new Asd;a.O=this.W.H;Dsd(a);this.ia=this.O=this.ea=null;this.D=void 0;this.ma=null;this.Ka=[];this.xa=!0;a=this.R.getModel();b=B(this.d8a,this);a.R.push(b);v(a.F)?b({vwa:""!=a.F,Mba:a.O}):Msd(a)}C(Lsd,oh);q=Lsd.prototype;
q.na=function(){this.za=HI(yrd,{title:this.Pa})};
q.qa=function(){Lsd.Y.qa.call(this);var a=this.$();OE(this.Ca,a.querySelector(".keep-ce-search-bar"));OE(this.oa,a.querySelector(".keep-ce-note-creator"));OE(this.Ea,a.querySelector(".open-search"));OE(this.La,a.querySelector(".open-keep"));OE(this.F,a.querySelector(".close"));Csd(this.J,a.querySelector(".keep-ce-empty-state"));this.ea=a.querySelector(".all-notes-scrollable");this.O=a.querySelector(".notes-list");N(this).V(this.Ea,"action",this.D$a).V(this.Ca,"fi",this.$gb).V(this.oa,"ci",this.m7a).V(this.ea,
"scroll",this.Zgb);Nsd(this,this.xa);Sa(this.Ka,function(a){Osd(this,a)},this)};
function Osd(a,b,c){if(a.W.D&&b.W||a.W.F&&b.yA())return null;var d=new wsd(a.R,a.W);d.D=b;d.R.D=b;d.ia&&(d.ia.D=b);xsd(d);d.O&&!d.O.isEmpty()&&(ysd(d,d.O.Ib()),d.O.clear());c&&a.O.firstChild?(PE(d,a.O.firstChild),a.ea.scrollTop=0):d.render(a.O);QE(d,Zqd(b.S));a.N[Zqd(b.S)]=d;a.Zza(d);Psd(a);a.ia&&(c=Drd(a.ia.toLowerCase()),a.D||(a.D=Jsd([b])||void 0),b=Hsd(b,c,a.D),d.setVisible(b),b&&Esd(a.J,"empty-search",!1));return d}function Nsd(a,b){a.xa=b;a.$()&&Yj(a.$(),"loading",b);Psd(a)}
function Psd(a){Esd(a.J,"empty-notes",!a.xa&&Mb(a.N))}q.Zza=function(a){if(this.ma){var b=a.$();b&&(b.setAttribute("draggable",!0),N(this).V(b,"dragstart",sa(this.ma,a)))}};q.d8a=function(a){this.Va()?Sa(a.Mba,function(a){Osd(this,a)},this):this.Ka.push.apply(this.Ka,a.Mba);Nsd(this,a.vwa)};q.D$a=function(){this.Ca.setVisible(!0)};q.Zgb=function(){Yj(this.$(),"scrolled",0<this.ea.scrollTop)};
q.$gb=function(a){if(this.ia=a.query){var b=Drd(a.query.toLowerCase());if(!this.D){var c=[];Cb(this.N,function(a){c.push(a.Uv())});this.D=Jsd(c)||void 0}var d=!1;Cb(this.N,function(a){var c=a.Uv(),c=!!c&&Hsd(c,b,this.D);a.setVisible(c);d|=c},this);Esd(this.J,"empty-search",!d)}else Cb(this.N,function(a){a.setVisible(!0)}),Esd(this.J,"empty-search",!1)};
q.m7a=function(a){if(a.D){a=this.R.getModel();var b=new mrd,c=new ird;b.D=c;b.F=null}else a=this.R.getModel(),b=new mrd,c=new krd(b.H),b.F=c,b.D=null;(c=osd(a))?(b.Bx(c),Qsd(a,b)):a.D.push(b);a=b;if(a=Osd(this,a,!0))b=this.oa,M(b.$(),!1),a.yZ(!0),a.focus(),N(b).xb(a,"ai",b.N)};function Rsd(){qX.call(this)}C(Rsd,qX);Rsd.prototype.Ob=function(){return this.get("F")};Rsd.prototype.getModel=function(){return this.get("G")};function Ssd(){pK.call(this);qK(this,!1);this.setVisible(!1);this.D=null;this.J=!1}C(Ssd,pK);q=Ssd.prototype;q.qa=function(){Ssd.Y.qa.call(this);Wj(this.$(),"keep-ce-menu");N(this).V(this,"action",this.mhb);Tsd(this)};
q.show=function(a,b){this.setVisible(!0);var c=this.$();if(c&&b){this.D=a;b=b.getBoundingClientRect();var d=hlb(document),e=dh(c);c.style.top=(b.bottom+e.height>Le().height?b.top-e.height:b.bottom)+d.y+"px";c.style.left=Math.max(0,b.right-e.width)+d.x+"px";qh(this,function(b){var c=b.getModel();b.setVisible(c.SBa(a))})}};q.zl=function(a){return!!a&&a instanceof Node&&!!this.$()&&af(this.$(),a)};
q.setVisible=function(a){var b=Ssd.Y.setVisible.call(this,a);if(!this.Va())return b;a?N(this).V(this.ba().gb(),"mousedown",this.lta,!0):N(this).Jb(this.ba().gb(),"mousedown",this.lta,!0);return b};function Tsd(a){if(a.Va()&&!a.J){var b=a.xc("hi");if(b){Wj(b.$(),"open-in-keep-menu-item");var c=Pe("DIV",{"class":"open-in-keep-icon"});b.$().appendChild(c);a.J=!0}}}q.lta=function(a){this.zl(a.target)||this.setVisible(!1)};
q.mhb=function(a){a.target instanceof uI&&this.D&&a.target.getModel().callback(this.D);this.setVisible(!1)};function Usd(){this.J=null}C(Usd,H6);Usd.prototype.D=Xc("itemIds:get");Usd.prototype.H=function(a){this.J=qrd(a,"itemId")};function Vsd(a,b){this.S=a;this.R=b;this.O=void 0;this.N=this.J=null}C(Vsd,H6);function Wsd(a){!a.N&&a.J&&(a.N=Ua(a.J,nrd));return a.N}Vsd.prototype.D=m("notes:list");Vsd.prototype.F=function(){var a={};this.S&&(a.pageSize=this.S);this.R&&(a.pageToken=this.R);return a};Vsd.prototype.H=function(a){this.J=qrd(a,"note");this.O=((a=prd(a,"nextPageToken","string"))?a:null)||void 0};function Xsd(a){D.call(this);this.N=a;this.S={};this.W=new H(this);E(this,this.W);this.D=[];this.H=[];this.J=!1;this.F=void 0;this.R=[];this.aa=[];this.O=[];Ysd(this)}C(Xsd,D);q=Xsd.prototype;q.Uv=function(a){return this.S[a]||null};function Qsd(a,b){var c=b.getId();c?a.S[c]=b:(c=osd(a))?(b.Bx(c),Qsd(a,b)):a.D.push(b);(c=b.D)&&Sa(c.D,function(a){if(!a.getId()){var b=osd(this);b?a.Bx(b):this.D.push(a)}},a);Sa(b.N,function(a){if(!a.getId()){var b=osd(this);b?a.Bx(b):this.D.push(a)}},a)}
function Msd(a){var b=new Vsd(5,a.F);a.N.get("H").Yf(b,B(a.b8a,a,b),B(a.a8a,a,b))}function osd(a){var b=a.H.shift();Ysd(a);return b||null}function Ysd(a){if(!(5<a.H.length||a.J)){var b=new Usd;a.N.get("H").Yf(b,B(a.N3a,a,b),B(a.M3a,a));a.J=!0}}
q.N3a=function(a){this.J=!1;this.H.push.apply(this.H,a.J);for(this.D.length&&this.N.get("E").info("Assigning ids to "+this.D.length+" entities that were created with no id.");this.D.length&&this.H.length;){a=this.D.shift();var b=this.H.shift();a.Bx(b);a instanceof mrd&&Qsd(this,a)}Ysd(this)};q.M3a=function(){this.J=!1;this.N.get("E").F("Failed to fetch item ids. No created notes can be saved.")};
q.b8a=function(a){this.F=a.O;a=Wsd(a);this.O.push.apply(this.O,a);var b={vwa:!!this.F,Mba:a};Sa(this.R,function(a){a(b)});this.F&&Msd(this)};q.a8a=function(){Sa(this.aa,function(a){a()})};function Zsd(a,b,c,d){D.call(this);this.D=new Rsd;E(this,this.D);this.J=c||new G6;this.D.vc("E",null);a=new asd(this.D,a,b,d);E(this,a);this.D.vc("H",a);a=new Xsd(this.D);E(this,a);this.D.vc("G",a);a=new Ssd;E(this,a);this.D.vc("F",a);$sd(this);this.D.vc("D",new rrd);this.F=new H(this);E(this,this.F);this.N=Ga(b.toLowerCase(),"sandbox")?"https://keep.sandbox.google.com":"https://keep.google.com"}C(Zsd,D);
function atd(a,b){a=a.D.Ob();if(!a.xc(b.id)){var c=new uI(b.label,b);QE(c,b.id);a.addChild(c,!0);Tsd(a)}}function $sd(a){atd(a,{id:"ii",label:"Delete note",callback:function(a){var b=a.Uv();b&&!b.yA()&&(b.pB(!0),a.yx(),a.dispatchEvent("gi"))},SBa:function(a){a=a.Uv();return!!a&&!a.yA()}});atd(a,{id:"hi",label:"Open in Keep",callback:B(function(a){(a=a.Uv())&&a.getId()&&!a.Vj()&&this.H(a.getId())},a),SBa:function(a){a=a.Uv();return!!a&&!!a.getId()}})}
Zsd.prototype.H=function(a){window.open(this.N+(a?"?note="+a:""),"_blank")};function btd(a,b,c){DN.call(this,a);this.F=b;EO(this.F,FO(GO((new YS(B(this.tsb,this))).F(T.h3.getId()),["accessState-edit","netStatus-online"])));this.J.subscribe(T.uja,"action",this.ova);this.D=null;this.N=c}C(btd,DN);q=btd.prototype;q.Wg=function(){return T.h3};q.On=function(){return T.f3};
q.tsb=function(){if(!this.Bb.isVisible()&&(this.Bb.setVisible(!0),!this.D)){var a=new G6;a.J=!0;a.D=!0;a.F=!0;a.H="Your notes from Google Keep will show up here. You can drag them to your document.";var b=gJ().D()||void 0,c=ig(K(),"docs-scr-sks"),b=this.D=new Zsd(this.N,c,a,b),a=new Lsd(b.D,b.J.clone(),"Scratchpad");b.F.V(a,"di",hd(B(b.H,b)));b=this.Bb;b.addChild(a,!0);(c=a.$())&&Wj(c,"docs-scratchpad-keep-component");b=B(b.F,b);a.ma=b;Cb(a.N,a.Zza,a);this.H.V(a,"Zh",this.ova)}};
q.ova=function(){this.Bb.setVisible(!1);T.ol.fireAction()};q.ha=function(){btd.Y.ha.call(this);this.D&&(this.D.dispose(),delete this.D)};function ctd(){D.call(this)}C(ctd,If);ctd.prototype.initialize=ba();ctd.prototype.J=function(){return ard};ctd.prototype.D=function(){return btd};WE(Qf("scratchpad"),ctd);Sf(Pf.Ba(),"scratchpad");UE();
